<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tongwen.repository.mapper.IAnthologyMapper">
    <cache/>
    <resultMap id="idAndTitleResultMap" type="HashMap">
        <result property="key" column="_id"/>
        <result property="value" column="title"/>
    </resultMap>
    <insert id="create" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO anthology (title, summary, create_date, publish_date, update_date, author_id, is_default)
        VALUES
            (#{title}, #{summary}, #{createDate}, #{publishDate},#{updateDate}, #{authorId}, #{default})
    </insert>
    <select id="findAnthologyIdAndTitleByAuthor" resultMap="idAndTitleResultMap">
        SELECT _id , title FROM anthology WHERE author_id = #{authorId}
    </select>
</mapper>
